{namespace ar=Tx_AdditionalReports_ViewHelpers}

<ar:widget.paginateQuery query="{query}" as="paginatedItems" configuration="{itemsPerPage: extconf.itemsPerPage, insertAbove: 1, insertBelow: 1, pagesAfter: 1, pagesBefore: 1, forceFirstPrevNextlast: 1}">
    <table cellspacing="1" cellpadding="2" border="0" class="tx_sv_reportlist typo3-dblist">
        <tr class="t3-row-header">
            <td colspan="8">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:realurlerrors_description"/>
            </td>
        </tr>
        <tr class="c-headLine">
            <td class="cell">&nbsp;</td>
            <td class="cell">URL</td>
            <td class="cell">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:error"/>
            </td>
            <td class="cell">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:counter"/>
            </td>
            <td class="cell">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:crdate"/>
            </td>
            <td class="cell">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:tstamp"/>
            </td>
            <td class="cell">
                <f:translate key="LLL:EXT:additional_reports/locallang.xml:last_referer"/>
            </td>
        </tr>
        <f:for each="{paginatedItems}" as="item">
            <tr class="db_list_normal">
                <td class="cell">
                    <a href="{baseUrl}&cmd=delete&delete={item.url_hash}"><img src="{requestDir}sysext/t3skin/icons/gfx/garbage.gif"/></a>
                </td>
                <td class="cell">{item.url}</td>
                <td class="cell">{item.error}</td>
                <td class="cell">{item.counter}</td>
                <td class="cell">
                    <f:format.date format="d/m/Y H:i:s">@{item.cr_date}</f:format.date>
                </td>
                <td class="cell">
                    <f:format.date format="d/m/Y H:i:s">@{item.tstamp}</f:format.date>
                </td>
                <td class="cell">{item.last_referer}</td>
            </tr>
        </f:for>
    </table>
</ar:widget.paginateQuery>
